<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>üêù Bee Story - Ch∆∞∆°ng 1</title>
    <style>
      /* Animation cho ong nh·ªè */
      @keyframes bee-float1 {
        0% {
          transform: translateY(0) scale(1) rotate(-8deg);
        }
        30% {
          transform: translateY(-18px) scale(1.05) rotate(8deg);
        }
        60% {
          transform: translateY(8px) scale(0.98) rotate(-6deg);
        }
        100% {
          transform: translateY(0) scale(1) rotate(-8deg);
        }
      }
      @keyframes bee-float2 {
        0% {
          transform: translateY(0) scale(1) rotate(10deg);
        }
        25% {
          transform: translateY(-12px) scale(1.04) rotate(-10deg);
        }
        60% {
          transform: translateY(10px) scale(0.97) rotate(6deg);
        }
        100% {
          transform: translateY(0) scale(1) rotate(10deg);
        }
      }
      .bee1 {
        animation: bee-float1 7s ease-in-out infinite;
      }
      .bee2 {
        animation: bee-float2 8s ease-in-out infinite;
      }

      /* Animation cho hoa, l√°, c·ªè */
      @keyframes sway1 {
        0% {
          transform: rotate(-2deg) scale(1);
        }
        50% {
          transform: rotate(3deg) scale(1.03);
        }
        100% {
          transform: rotate(-2deg) scale(1);
        }
      }
      @keyframes sway2 {
        0% {
          transform: rotate(2deg) scale(1);
        }
        50% {
          transform: rotate(-3deg) scale(1.02);
        }
        100% {
          transform: rotate(2deg) scale(1);
        }
      }
      .flower1,
      .leaf1,
      .grass1 {
        animation: sway1 5.5s ease-in-out infinite;
      }
      .flower2,
      .leaf2,
      .grass2 {
        animation: sway2 6.2s ease-in-out infinite;
      }
      body {
        background: linear-gradient(to bottom, #fef9d7, #ffd6a5);
        font-family: "Comic Sans MS", "Segoe UI", system-ui, -apple-system,
          sans-serif;
        text-align: center;
        overflow: hidden;
        color: #553311;
      }
      #panel {
        position: relative;
        width: min(92vw, 780px);
        height: min(60vh, 520px);
        margin: 60px auto 0;
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 12px 24px rgba(85, 51, 17, 0.25);
        background: #fff7e6;
      }
      #panel img.scene-img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
        filter: grayscale(0.1) saturate(1.15) contrast(1.1);
      }
      /* manga screentone overlay */
      #panel::after {
        content: "";
        position: absolute;
        inset: 0;
        background-image: radial-gradient(
          rgba(0, 0, 0, 0.08) 1px,
          transparent 1px
        );
        background-size: 6px 6px;
        pointer-events: none;
        mix-blend-mode: multiply;
      }
      #story {
        position: absolute;
        left: 0;
        right: 0;
        bottom: 0;
        padding: 18px 20px 22px;
        background: linear-gradient(
          to top,
          rgba(255, 247, 230, 0.95),
          rgba(255, 247, 230, 0.75),
          rgba(255, 247, 230, 0)
        );
        font-size: 1.25em;
        line-height: 1.6;
        min-height: 96px;
        opacity: 0;
        transition: opacity 800ms;
        text-shadow: 0 1px 0 rgba(255, 255, 255, 0.6);
      }
      .controls {
        display: flex;
        gap: 12px;
        justify-content: center;
        align-items: center;
        margin-top: 24px;
      }
      .controls button {
        padding: 12px 22px;
        border: none;
        border-radius: 10px;
        background: #ffcc33;
        font-size: 1.05em;
        box-shadow: 0 4px #cc9900;
        cursor: pointer;
        min-width: 110px;
      }
      .controls button:hover {
        background: #ffe066;
      }
      .controls button:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        box-shadow: none;
      }
      .progress {
        position: absolute;
        top: 10px;
        right: 12px;
        display: flex;
        gap: 6px;
        z-index: 2;
      }
      .dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: rgba(0, 0, 0, 0.15);
        box-shadow: inset 0 0 0 2px rgba(255, 255, 255, 0.6);
        transition: transform 120ms ease;
      }
      .dot.active {
        background: #ffcc33;
        transform: scale(1.1);
      }
      /* inline SVG bee */
      .bee-wrap {
        position: absolute;
        width: 80px;
        height: 80px;
        top: 30%;
        left: -100px;
        animation: fly 12s linear infinite;
        pointer-events: none;
      }
      @keyframes fly {
        0% {
          left: -100px;
          top: 30%;
          transform: rotate(10deg) scale(1);
        }
        25% {
          left: 40%;
          top: 18%;
          transform: rotate(-8deg) scale(1.05);
        }
        50% {
          left: 85%;
          top: 36%;
          transform: rotate(12deg) scale(1);
        }
        75% {
          left: 48%;
          top: 52%;
          transform: rotate(-6deg) scale(0.98);
        }
        100% {
          left: -100px;
          top: 30%;
          transform: rotate(10deg) scale(1);
        }
      }
      .hint {
        color: rgba(85, 51, 17, 0.75);
        font-size: 0.95em;
        margin-top: 12px;
      }
      @media (max-width: 520px) {
        #panel {
          height: min(58vh, 460px);
        }
        .controls button {
          min-width: 96px;
          padding: 10px 16px;
          font-size: 1em;
        }
        #story {
          font-size: 1.1em;
        }
      }
    </style>
  </head>
  <body>
    <!-- Ong l·ªõn bay -->
    <div class="bee-wrap" aria-hidden="true">
      <svg viewBox="0 0 120 120" width="80" height="80">
        <defs>
          <linearGradient id="wing" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0%" stop-color="#ffffff" stop-opacity=".9" />
            <stop offset="100%" stop-color="#c7f3ff" stop-opacity=".7" />
          </linearGradient>
        </defs>
        <g transform="translate(10,20)">
          <ellipse
            cx="25"
            cy="20"
            rx="18"
            ry="12"
            fill="url(#wing)"
            stroke="#333"
            stroke-width="2"
            opacity=".9"
          >
            <animate
              attributeName="rx"
              values="18;16;18"
              dur="1.2s"
              repeatCount="indefinite"
            />
          </ellipse>
          <ellipse
            cx="40"
            cy="16"
            rx="14"
            ry="10"
            fill="url(#wing)"
            stroke="#333"
            stroke-width="2"
            opacity=".85"
          >
            <animate
              attributeName="ry"
              values="10;8;10"
              dur="1.2s"
              repeatCount="indefinite"
            />
          </ellipse>
          <ellipse
            cx="58"
            cy="38"
            rx="28"
            ry="20"
            fill="#ffd34d"
            stroke="#333"
            stroke-width="3"
          />
          <rect x="40" y="25" width="36" height="8" fill="#333" />
          <rect x="42" y="40" width="36" height="8" fill="#333" />
          <circle cx="78" cy="36" r="8" fill="#333" />
          <circle cx="82" cy="34" r="2" fill="#fff" />
          <path d="M86,34 l16,-6" stroke="#333" stroke-width="3" />
        </g>
      </svg>
    </div>

      <svg viewBox="0 0 120 120" width="80" height="80">
        <defs>
          <linearGradient id="wing" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0%" stop-color="#ffffff" stop-opacity=".9" />
            <stop offset="100%" stop-color="#c7f3ff" stop-opacity=".7" />
          </linearGradient>
        </defs>
        <g transform="translate(10,20)">
          <ellipse
            cx="25"
            cy="20"
            rx="18"
            ry="12"
            fill="url(#wing)"
            stroke="#333"
            stroke-width="2"
            opacity=".9"
          >
            <animate
              attributeName="rx"
              values="18;16;18"
              dur="1.2s"
              repeatCount="indefinite"
            />
          </ellipse>
          <ellipse
            cx="40"
            cy="16"
            rx="14"
            ry="10"
            fill="url(#wing)"
            stroke="#333"
            stroke-width="2"
            opacity=".85"
          >
            <animate
              attributeName="ry"
              values="10;8;10"
              dur="1.2s"
              repeatCount="indefinite"
            />
          </ellipse>
          <ellipse
            cx="58"
            cy="38"
            rx="28"
            ry="20"
            fill="#ffd34d"
            stroke="#333"
            stroke-width="3"
          />
          <rect x="40" y="25" width="36" height="8" fill="#333" />
          <rect x="42" y="40" width="36" height="8" fill="#333" />
          <circle cx="78" cy="36" r="8" fill="#333" />
          <circle cx="82" cy="34" r="2" fill="#fff" />
          <path d="M86,34 l16,-6" stroke="#333" stroke-width="3" />
        </g>
      </svg>
    </div>

    
    <div id="panel">
      <div class="progress" id="progress"></div>
      <img id="sceneImg" class="scene-img" src="" alt="scene" />
      <div id="story" role="status" aria-live="polite" aria-atomic="true"></div>
    </div>
    <div class="controls" aria-label="ƒëi·ªÅu khi·ªÉn c√¢u chuy·ªán">
      <button
        id="prevBtn"
        onclick="prevPart()"
        aria-label="L√πi l·∫°i (‚Üê)"
        disabled
      >
        ‚Üê L√πi
      </button>
      <button
        id="nextBtn"
        onclick="nextPart()"
        aria-label="Ti·∫øp (Space/Enter/‚Üí)"
      >
        Ti·∫øp ‚ûú
      </button>
    </div>
    <div class="hint">
      Nh·∫•n Space/Enter/‚Üí ƒë·ªÉ ti·∫øp t·ª•c nha h√¢mmm, ‚Üê ƒë·ªÉ quay l·∫°i. B·∫•m v√†o khung ƒë·ªÉ b·ªè
      qua hi·ªáu ·ª©ng ch·ªØ.
    </div>

    <script>
      // Simple inline SVG chibi scenes (data URIs) for a manga/chibi vibe
      const svg1 = `data:image/svg+xml;utf8,
          <svg xmlns='http://www.w3.org/2000/svg' width='1200' height='800' viewBox='0 0 1200 800'>
            <defs>
              <linearGradient id='bg' x1='0' y1='0' x2='0' y2='1'>
                <stop offset='0%' stop-color='%23fff6e5'/>
                <stop offset='100%' stop-color='%23ffe0b3'/>
              </linearGradient>
              <filter id='outline'><feMorphology operator='dilate' radius='3'/><feColorMatrix values='0 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 1 0'/></filter>
            </defs>
            <rect width='100%' height='100%' fill='url(%23bg)'/>
            <!-- chibi boy -->
            <g transform='translate(350,160)'>
              <circle cx='250' cy='160' r='120' fill='%23ffe8cf' stroke='%23222' stroke-width='6'/>
              <circle cx='210' cy='160' r='14' fill='%23222'/>
              <circle cx='290' cy='160' r='14' fill='%23222'/>
              <path d='M200,210 Q250,240 300,210' stroke='%23222' stroke-width='8' fill='none'/>
              <rect x='140' y='280' rx='40' ry='40' width='220' height='260' fill='%23ffd777' stroke='%23222' stroke-width='6'/>
              <rect x='250' y='310' rx='12' ry='12' width='120' height='70' fill='%23222'/>
              <rect x='270' y='325' rx='8' ry='8' width='80' height='40' fill='%23333'/>
              <path d='M245,320 q-40 20 -45 70' stroke='%23222' stroke-width='8' fill='none'/>
            </g>
          </svg>`;

      const svg2 = `data:image/svg+xml;utf8,
          <svg xmlns='http://www.w3.org/2000/svg' width='1200' height='800' viewBox='0 0 1200 800'>
            <rect width='100%' height='100%' fill='%23fff6e5'/>
            <g transform='translate(150,120)'>
              <rect x='500' y='140' rx='24' ry='24' width='300' height='520' fill='%23ffffff' stroke='%23222' stroke-width='8'/>
              <circle cx='650' cy='220' r='70' fill='%23ffe066' stroke='%23222' stroke-width='8'/>
              <path d='M600,210 q40 -30 100 0' fill='none' stroke='%23222' stroke-width='8'/>
              <path d='M620,245 q30 20 60 0' fill='none' stroke='%23222' stroke-width='8'/>
              <text x='565' y='340' font-family='Comic Sans MS' font-size='28' fill='%23222'>üçÉT·ªõ L√† Oongüêù</text>
            </g>
            <g transform='translate(220,200)'>
              <circle cx='200' cy='120' r='90' fill='%23ffe8cf' stroke='%23222' stroke-width='6'/>
              <circle cx='170' cy='120' r='12' fill='%23222'/>
              <circle cx='230' cy='120' r='12' fill='%23222'/>
              <path d='M160,160 q40 20 80 0' stroke='%23222' stroke-width='8' fill='none'/>
            </g>
          </svg>`;

      const svg3 = `data:image/svg+xml;utf8,
          <svg xmlns='http://www.w3.org/2000/svg' width='1200' height='800' viewBox='0 0 1200 800'>
            <rect width='100%' height='100%' fill='%23ffeedd'/>
            <g transform='translate(340,160)'>
              <circle cx='250' cy='160' r='120' fill='%23ffe8cf' stroke='%23222' stroke-width='6'/>
              <circle cx='210' cy='160' r='12' fill='%23222'/>
              <circle cx='290' cy='160' r='12' fill='%23222'/>
              <path d='M205,205 q45 35 90 0' stroke='%23222' stroke-width='8' fill='none'/>
              <circle cx='190' cy='185' r='10' fill='%23ff9bb3'/>
              <circle cx='310' cy='185' r='10' fill='%23ff9bb3'/>
              <rect x='160' y='290' rx='40' ry='40' width='220' height='260' fill='%23ffd777' stroke='%23222' stroke-width='6'/>
            </g>
          </svg>`;

      const svg4 = `data:image/svg+xml;utf8,
          <svg xmlns='http://www.w3.org/2000/svg' width='1200' height='800' viewBox='0 0 1200 800'>
            <rect width='100%' height='100%' fill='%23fff6e5'/>
            <!-- calendar card -->
            <g transform='translate(400,160)'>
              <rect x='0' y='0' rx='24' ry='24' width='400' height='360' fill='%23ffffff' stroke='%23222' stroke-width='8'/>
              <rect x='0' y='0' rx='24' ry='24' width='400' height='90' fill='%23ff6b6b' stroke='%23222' stroke-width='8'/>
              <text x='200' y='60' text-anchor='middle' font-family='Comic Sans MS' font-size='40' fill='%23ffffff'>L·ªãch</text>
              <text x='200' y='210' text-anchor='middle' font-family='Comic Sans MS' font-size='80' fill='%23222'>2</text>
              <text x='200' y='260' text-anchor='middle' font-family='Comic Sans MS' font-size='34' fill='%23222'>th√°ng sau...</text>
            </g>
            <!-- small boy thinking in corner -->
            <g transform='translate(140,420) scale(0.7)'>
              <circle cx='250' cy='160' r='120' fill='%23ffe8cf' stroke='%23222' stroke-width='6'/>
              <circle cx='210' cy='160' r='12' fill='%23222'/>
              <circle cx='290' cy='160' r='12' fill='%23222'/>
              <path d='M205,205 q45 35 90 0' stroke='%23222' stroke-width='8' fill='none'/>
              <rect x='160' y='290' rx='40' ry='40' width='220' height='260' fill='%23ffd777' stroke='%23222' stroke-width='6'/>
            </g>
          </svg>`;

      const svg5 = `data:image/svg+xml;utf8,
          <svg xmlns='http://www.w3.org/2000/svg' width='1200' height='800' viewBox='0 0 1200 800'>
            <rect width='100%' height='100%' fill='%23fff6e5'/>
            <g transform='translate(320,160)'>
              <circle cx='250' cy='160' r='120' fill='%23ffe8cf' stroke='%23222' stroke-width='6'/>
              <circle cx='210' cy='160' r='12' fill='%23222'/>
              <circle cx='290' cy='160' r='12' fill='%23222'/>
              <path d='M200,210 Q250,235 300,210' stroke='%23222' stroke-width='8' fill='none'/>
              <rect x='160' y='290' rx='40' ry='40' width='220' height='260' fill='%23ffd777' stroke='%23222' stroke-width='6'/>
            </g>
            <!-- message bubble -->
            <g>
              <rect x='740' y='180' rx='20' ry='20' width='360' height='180' fill='%23ffffff' stroke='%23222' stroke-width='6'/>
              <path d='M820,360 l-20,50 60,-40' fill='%23ffffff' stroke='%23222' stroke-width='6'/>
              <text x='760' y='230' font-family='Comic Sans MS' font-size='30' fill='%23222'>Ch√†o Oong,</text>
              <text x='760' y='270' font-family='Comic Sans MS' font-size='30' fill='%23222'>t·ªõ l√† Nam... üòä</text>
            </g>
          </svg>`;

      const svg6 = `data:image/svg+xml;utf8,
          <svg xmlns='http://www.w3.org/2000/svg' width='1200' height='800' viewBox='0 0 1200 800'>
            <rect width='100%' height='100%' fill='%23eafff6'/>
            <!-- phone right -->
            <g transform='translate(760,120)'>
              <rect x='0' y='0' rx='24' ry='24' width='320' height='560' fill='%23ffffff' stroke='%23222' stroke-width='8'/>
              <rect x='24' y='60' rx='18' ry='18' width='260' height='100' fill='%23f4f4f4' stroke='%23222' stroke-width='6'/>
              <text x='42' y='120' font-family='Comic Sans MS' font-size='28' fill='%23222'>Ch√†o b·∫°n~ üêù</text>
            </g>
            <!-- chibi boy happy -->
            <g transform='translate(220,220)'>
              <circle cx='200' cy='120' r='90' fill='%23ffe8cf' stroke='%23222' stroke-width='6'/>
              <circle cx='170' cy='110' r='12' fill='%23222'/>
              <circle cx='230' cy='110' r='12' fill='%23222'/>
              <path d='M160,150 q40 30 80 0' stroke='%23222' stroke-width='8' fill='none'/>
              <circle cx='145' cy='95' r='8' fill='%23ffafcc'/>
              <circle cx='255' cy='95' r='8' fill='%23ffafcc'/>
              <g opacity='0.8'>
                <circle cx='120' cy='10' r='6' fill='%23ffd166'/>
                <circle cx='260' cy='-10' r='5' fill='%23ffd166'/>
                <circle cx='200' cy='-20' r='4' fill='%23ffd166'/>
              </g>
            </g>
          </svg>`;

      const svg7 = `data:image/svg+xml;utf8,
          <svg xmlns='http://www.w3.org/2000/svg' width='1200' height='800' viewBox='0 0 1200 800'>
            <rect width='100%' height='100%' fill='%23f0fff4'/>
            <!-- icons montage: leaf, paw, mountain, compass -->
            <g transform='translate(180,220)'>
              <path d='M60,140 q60 -120 160 -120 q-40 120 -160 120 z' fill='%2328a745' stroke='%23222' stroke-width='6'/>
              <circle cx='280' cy='80' r='26' fill='%23222'/>
              <circle cx='312' cy='62' r='16' fill='%23222'/>
              <circle cx='328' cy='92' r='16' fill='%23222'/>
              <circle cx='296' cy='106' r='16' fill='%23222'/>
              <circle cx='310' cy='120' r='20' fill='%23222'/>
              <g transform='translate(420,-10)'>
                <polygon points='0,160 120,20 240,160' fill='%2397c1a9' stroke='%23222' stroke-width='6'/>
                <polygon points='60,160 120,90 180,160' fill='%23cde6d0' stroke='%23222' stroke-width='6'/>
              </g>
              <g transform='translate(720,0)'>
                <circle cx='80' cy='80' r='70' fill='%23fff' stroke='%23222' stroke-width='6'/>
                <polygon points='80,20 95,85 160,100 95,115 80,180 65,115 0,100 65,85' fill='%23ffcc33' stroke='%23222' stroke-width='6'/>
              </g>
            </g>
          </svg>`;

      const svg8 = `data:image/svg+xml;utf8,
          <svg xmlns='http://www.w3.org/2000/svg' width='1200' height='800' viewBox='0 0 1200 800'>
            <rect width='100%' height='100%' fill='%23eef2ff'/>
            <!-- two phones far apart -->
            <g transform='translate(120,160)'>
              <rect x='0' y='0' rx='24' ry='24' width='260' height='520' fill='%23ffffff' stroke='%23222' stroke-width='8'/>
              <rect x='24' y='60' rx='18' ry='18' width='200' height='60' fill='%23f4f4f4' stroke='%23222' stroke-width='6'/>
            </g>
            <g transform='translate(820,160)'>
              <rect x='0' y='0' rx='24' ry='24' width='260' height='520' fill='%23ffffff' stroke='%23222' stroke-width='8'/>
              <rect x='24' y='380' rx='18' ry='18' width='200' height='60' fill='%23f4f4f4' stroke='%23222' stroke-width='6'/>
            </g>
            <path d='M380,420 C560,220 640,620 880,420' fill='none' stroke='%23999' stroke-dasharray='10 10' stroke-width='6'>
              <animate attributeName='stroke-dashoffset' values='0;20;0' dur='2s' repeatCount='indefinite' />
            </path>
            <circle cx='380' cy='420' r='8' fill='%23ffcc33'/>
            <circle cx='880' cy='420' r='8' fill='%23ffcc33'/>
          </svg>`;

      const svg9 = `data:image/svg+xml;utf8,
          <svg xmlns='http://www.w3.org/2000/svg' width='1200' height='800' viewBox='0 0 1200 800'>
            <rect width='100%' height='100%' fill='%23ffe6ea'/>
            <g transform='translate(320,180)'>
              <path d='M240,220 c-40 -80 -160 -80 -160,30 c0,90 120,150 160,190 c40 -40 160 -100 160 -190 c0 -110 -120 -110 -160 -30z' fill='%23ff8fab' stroke='%23222' stroke-width='6'>
                <animate attributeName='opacity' values='1;0.85;1' dur='1.6s' repeatCount='indefinite' />
                <animateTransform attributeName='transform' type='scale' values='1;1.02;1' dur='1.6s' repeatCount='indefinite' additive='sum' />
              </path>
            </g>
            <g transform='translate(380,200) scale(0.9)'>
              <circle cx='250' cy='160' r='120' fill='%23ffe8cf' stroke='%23222' stroke-width='6'/>
              <circle cx='210' cy='160' r='12' fill='%23222'/>
              <circle cx='290' cy='160' r='12' fill='%23222'/>
              <path d='M205,205 q45 35 90 0' stroke='%23222' stroke-width='8' fill='none'/>
              <rect x='160' y='290' rx='40' ry='40' width='220' height='260' fill='%23ffd777' stroke='%23222' stroke-width='6'/>
            </g>
            <g transform='translate(540,180)'>
              <circle cx='0' cy='0' r='20' fill='%23ffd166' stroke='%23222' stroke-width='4'/>
              <path d='M-10,-10 q10 -12 20 0' stroke='%23222' stroke-width='4' fill='none'/>
            </g>
          </svg>`;

      /* Chapter 2 SVGs */
      const svg10 = `data:image/svg+xml;utf8,
          <svg xmlns='http://www.w3.org/2000/svg' width='1200' height='800' viewBox='0 0 1200 800'>
            <rect width='100%' height='100%' fill='%23fff3cd'/>
            <g transform='translate(180,180)'>
              <rect x='0' y='0' rx='24' ry='24' width='840' height='360' fill='%23ffffff' stroke='%23222' stroke-width='8'/>
              <text x='420' y='150' text-anchor='middle' font-family='Comic Sans MS' font-size='56' fill='%23222'>Ch∆∞∆°ng 2</text>
              <text x='420' y='220' text-anchor='middle' font-family='Comic Sans MS' font-size='34' fill='%23222'>S·ª± t·ª± ti & b·ª©c t∆∞·ªùng c·ªßa c√¥ g√°i</text>
            </g>
          </svg>`;

      const svg11 = `data:image/svg+xml;utf8,
          <svg xmlns='http://www.w3.org/2000/svg' width='1200' height='800' viewBox='0 0 1200 800'>
            <rect width='100%' height='100%' fill='%23eef2f7'/>
            <!-- site -->
            <g transform='translate(120,160)'>
              <rect x='0' y='180' width='960' height='200' fill='%23cfd8dc' stroke='%23222' stroke-width='6'/>
              <rect x='60' y='120' width='180' height='60' fill='%2390a4ae' stroke='%23222' stroke-width='6'/>
              <rect x='260' y='80' width='220' height='100' fill='%2390a4ae' stroke='%23222' stroke-width='6'/>
              <rect x='520' y='140' width='280' height='60' fill='%2390a4ae' stroke='%23222' stroke-width='6'/>
              <line x1='780' y1='60' x2='1020' y2='60' stroke='%23222' stroke-width='6'/>
              <rect x='1000' y='40' width='20' height='20' fill='%23222'/>
            </g>
            <!-- girl with helmet, long hair -->
            <g transform='translate(420,260)'>
              <ellipse cx='80' cy='60' rx='38' ry='44' fill='%23ffe8cf' stroke='%23222' stroke-width='6'/>
              <path d='M42,60 q38 80 76 0' fill='none' stroke='%23996b4e' stroke-width='8'/>
              <rect x='42' y='38' width='76' height='16' fill='%23ffcc33' stroke='%23222' stroke-width='6'/>
              <rect x='40' y='100' rx='20' ry='20' width='90' height='120' fill='%23ffd777' stroke='%23222' stroke-width='6'/>
              <rect x='70' y='120' width='30' height='50' fill='%23333'/>
              <!-- long hair -->
              <path d='M60,104 q-30 60 40 80 q-40 -40 -10 -80' fill='%23996b4e' stroke='%23222' stroke-width='4'/>
            </g>
          </svg>`;

      const svg12 = `data:image/svg+xml;utf8,
          <svg xmlns='http://www.w3.org/2000/svg' width='1200' height='800' viewBox='0 0 1200 800'>
            <rect width='100%' height='100%' fill='%23fff6e5'/>
            <g transform='translate(180,200)'>
              <circle cx='120' cy='120' r='80' fill='%23fff' stroke='%23222' stroke-width='6'/>
              <line x1='120' y1='120' x2='120' y2='70' stroke='%23222' stroke-width='6'/>
              <line x1='120' y1='120' x2='170' y2='120' stroke='%23222' stroke-width='6'/>
              <text x='120' y='220' text-anchor='middle' font-family='Comic Sans MS' font-size='26' fill='%23222'>S√°ng s·ªõm</text>
            </g>
            <g transform='translate(760,200)'>
              <circle cx='120' cy='120' r='80' fill='%23fff' stroke='%23222' stroke-width='6'/>
              <line x1='120' y1='120' x2='80' y2='120' stroke='%23222' stroke-width='6'/>
              <line x1='120' y1='120' x2='120' y2='170' stroke='%23222' stroke-width='6'/>
              <text x='120' y='220' text-anchor='middle' font-family='Comic Sans MS' font-size='26' fill='%23222'>Khuya mu·ªôn</text>
            </g>
            <path d='M360,280 C480,200 720,200 840,280' stroke='%23999' stroke-dasharray='10 10' stroke-width='6' fill='none'/>
            <text x='600' y='360' text-anchor='middle' font-family='Comic Sans MS' font-size='28' fill='%23222'>Ng√†y n·ªëi ng√†y</text>
          </svg>`;

      const svg13 = `data:image/svg+xml;utf8,
          <svg xmlns='http://www.w3.org/2000/svg' width='1200' height='800' viewBox='0 0 1200 800'>
            <rect width='100%' height='100%' fill='%23eaf7ff'/>
            <g transform='translate(780,140)'>
              <rect x='0' y='0' rx='24' ry='24' width='320' height='560' fill='%23ffffff' stroke='%23222' stroke-width='8'/>
              <rect x='24' y='380' rx='18' ry='18' width='260' height='110' fill='%23f4f4f4' stroke='%23222' stroke-width='6'/>
              <text x='42' y='440' font-family='Comic Sans MS' font-size='26' fill='%23222'>V·∫´n tr·∫£ l·ªùi tin nh·∫Øn...</text>
              <text x='42' y='470' font-family='Comic Sans MS' font-size='22' fill='%23999'>m·ªát nh∆∞ng ·∫•m l√≤ng</text>
            </g>
            <!-- girl in small room, long hair -->
            <g transform='translate(220,240)'>
              <ellipse cx='200' cy='120' rx='60' ry='90' fill='%23ffe8cf' stroke='%23222' stroke-width='6'/>
              <path d='M140,120 q60 80 120 0' fill='none' stroke='%23996b4e' stroke-width='10'/>
              <path d='M160,180 q-30 40 40 60 q-40 -30 -10 -60' fill='%23996b4e' stroke='%23222' stroke-width='4'/>
              <path d='M240,180 q30 40 -40 60 q40 -30 10 -60' fill='%23996b4e' stroke='%23222' stroke-width='4'/>
              <text x='160' y='220' font-family='Comic Sans MS' font-size='28' fill='%23999'>zzz</text>
            </g>
          </svg>`;

      const svg14 = `data:image/svg+xml;utf8,
          <svg xmlns='http://www.w3.org/2000/svg' width='1200' height='800' viewBox='0 0 1200 800'>
            <rect width='100%' height='100%' fill='%23fff0f0'/>
            <g transform='translate(220,220)'>
              <circle cx='140' cy='100' r='70' fill='%23fff' stroke='%23222' stroke-width='6'/>
              <path d='M90,120 h100' stroke='%23e74c3c' stroke-width='10'/>
              <text x='140' y='200' text-anchor='middle' font-family='Comic Sans MS' font-size='26' fill='%23222'>B·ªè b·ªØa</text>
            </g>
            <g transform='translate(700,200)'>
              <rect x='0' y='0' rx='24' ry='24' width='260' height='200' fill='%23e3f2fd' stroke='%23222' stroke-width='6'/>
              <path d='M40,60 q40 -20 80 0' stroke='%2399c' stroke-width='6' fill='none'/>
              <line x1='180' y1='40' x2='180' y2='160' stroke='%23222' stroke-width='6'/>
              <line x1='180' y1='100' x2='220' y2='100' stroke='%23222' stroke-width='6'/>
              <text x='130' y='170' text-anchor='middle' font-family='Comic Sans MS' font-size='22' fill='%23222'>T·∫Øm mu·ªôn</text>
            </g>
          </svg>`;

      const svg15 = `data:image/svg+xml;utf8,
          <svg xmlns='http://www.w3.org/2000/svg' width='1200' height='800' viewBox='0 0 1200 800'>
            <rect width='100%' height='100%' fill='%23eaf7ff'/>
            <!-- girl crying, long hair -->
            <g transform='translate(340,200)'>
              <ellipse cx='250' cy='100' rx='90' ry='110' fill='%23ffe8cf' stroke='%23222' stroke-width='6'/>
              <path d='M160,100 q90 120 180 0' fill='none' stroke='%23996b4e' stroke-width='12'/>
              <path d='M220,130 q30 30 60 0' stroke='%23222' stroke-width='8' fill='none'/>
              <g>
                <path d='M210,50 q-20 30 -40 0' stroke='%23222' stroke-width='6' fill='none'/>
                <path d='M290,50 q20 30 40 0' stroke='%23222' stroke-width='6' fill='none'/>
              </g>
              <g transform='translate(0,140)'>
                <path d='M180,0 q30 50 60 0' fill='none' stroke='%2388c' stroke-width='8'/>
              </g>
              <!-- tears -->
              <ellipse cx='220' cy='160' rx='8' ry='16' fill='%2399d' opacity='0.5'/>
              <ellipse cx='280' cy='160' rx='8' ry='16' fill='%2399d' opacity='0.5'/>
            </g>
            <text x='600' y='520' text-anchor='middle' font-family='Comic Sans MS' font-size='34' fill='%23222'>Kh√≥c nhi·ªÅu l·∫ßn ‚Äî nh∆∞ng v·∫´n r·∫•t m·∫°nh m·∫Ω.</text>
          </svg>`;

      const svg16 = `data:image/svg+xml;utf8,
          <svg xmlns='http://www.w3.org/2000/svg' width='1200' height='800' viewBox='0 0 1200 800'>
            <rect width='100%' height='100%' fill='%23fef6e4'/>
            <!-- girl inside wall, long hair -->
            <g transform='translate(300,180)'>
              <rect x='0' y='0' width='600' height='360' fill='%23f1c40f' opacity='0.25'/>
              <g>
                <rect x='0' y='0' width='600' height='360' fill='none' stroke='%23222' stroke-width='8'/>
                <g stroke='%23222' stroke-width='6'>
                  <line x1='0' y1='60' x2='600' y2='60'/>
                  <line x1='0' y1='120' x2='600' y2='120'/>
                  <line x1='0' y1='180' x2='600' y2='180'/>
                  <line x1='0' y1='240' x2='600' y2='240'/>
                  <line x1='0' y1='300' x2='600' y2='300'/>
                </g>
              </g>
              <g transform='translate(260,120)'>
                <ellipse cx='40' cy='40' rx='30' ry='38' fill='%23ffe8cf' stroke='%23222' stroke-width='6'/>
                <path d='M10,40 q30 60 60 0' fill='none' stroke='%23996b4e' stroke-width='8'/>
                <rect x='20' y='70' rx='12' ry='12' width='40' height='70' fill='%23ffd777' stroke='%23222' stroke-width='6'/>
                <!-- long hair -->
                <path d='M30,110 q-20 30 30 40 q-30 -20 -10 -40' fill='%23996b4e' stroke='%23222' stroke-width='3'/>
              </g>
            </g>
            <g transform='translate(940,240)'>
              <polygon points='0,0 40,20 0,40' fill='%23e67e22' stroke='%23222' stroke-width='6'/>
              <polygon points='-40,80 0,60 -40,40' fill='%23e74c3c' stroke='%23222' stroke-width='6'/>
            </g>
          </svg>`;

      const svg17 = `data:image/svg+xml;utf8,
          <svg xmlns='http://www.w3.org/2000/svg' width='1200' height='800' viewBox='0 0 1200 800'>
            <rect width='100%' height='100%' fill='%23e8fff3'/>
            <!-- wall with small opening -->
            <g transform='translate(220,180)'>
              <rect x='0' y='0' width='760' height='360' fill='%23d1e7dd' stroke='%23222' stroke-width='8'/>
              <rect x='360' y='140' width='40' height='80' fill='%23ffffff' stroke='%23222' stroke-width='6'/>
            </g>
            <!-- boy hand with flower/bee -->
            <g transform='translate(500,270)'>
              <rect x='-140' y='40' width='140' height='20' fill='%23ffe8cf' stroke='%23222' stroke-width='6'/>
              <circle cx='-150' cy='50' r='10' fill='%23ffe8cf' stroke='%23222' stroke-width='6'/>
              <circle cx='-170' cy='30' r='10' fill='%23ffd166' stroke='%23222' stroke-width='4'/>
            </g>
            <text x='600' y='600' text-anchor='middle' font-family='Comic Sans MS' font-size='32' fill='%23222'>C·∫≠u ki√™n nh·∫´n, d·ªãu d√†ng ‚Äî m·ªôt ch√∫t ·∫•m √°p len qua khe t∆∞·ªùng.</text>
          </svg>`;

      const svg18 = `data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1200' height='800' viewBox='0 0 1200 800'><rect width='100%' height='100%' fill='%23e8fff3'/><g transform='translate(220,180)'><rect x='0' y='0' width='760' height='360' fill='%23d1e7dd' stroke='%23222' stroke-width='8'/><rect x='360' y='140' width='40' height='80' fill='%23ffffff' stroke='%23222' stroke-width='6'/></g><g transform='translate(500,270)'><rect x='-140' y='40' width='140' height='20' fill='%23ffe8cf' stroke='%23222' stroke-width='6'/><circle cx='-150' cy='50' r='10' fill='%23ffe8cf' stroke='%23222' stroke-width='6'/><circle cx='-170' cy='30' r='10' fill='%23ffd166' stroke='%23222' stroke-width='4'/></g><text x='600' y='600' text-anchor='middle' font-family='Comic Sans MS' font-size='32' fill='%23222'>C·∫≠u ki√™n nh·∫´n, d·ªãu d√†ng ‚Äî m·ªôt ch√∫t ·∫•m √°p len qua khe t∆∞·ªùng.</text></svg>`;

      // Chapter 3‚Äì5 SVGs
      const svg19 = `data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1200' height='800' viewBox='0 0 1200 800'><rect width='100%' height='100%' fill='%23f7e9ff'/><g transform='translate(500,300)'><rect x='0' y='0' width='200' height='120' rx='18' fill='%23ffe066' stroke='%23222' stroke-width='8'/><rect x='80' y='-40' width='40' height='40' rx='8' fill='%23ff8fab' stroke='%23222' stroke-width='6'/><rect x='95' y='-40' width='10' height='40' fill='%23fff' stroke='%23222' stroke-width='2'/><rect x='0' y='50' width='200' height='20' fill='%23ff8fab' stroke='%23222' stroke-width='2'/></g><text x='600' y='500' text-anchor='middle' font-family='Comic Sans MS' font-size='34' fill='%23222'>Chi·∫øc h·ªôp qu√† kh√¥ng g·ª≠i</text></svg>`;
      const svg20 = `data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1200' height='800' viewBox='0 0 1200 800'><rect width='100%' height='100%' fill='%23e0f7fa'/><g transform='translate(300,200)'><polygon points='0,300 200,0 400,300' fill='%2397c1a9' stroke='%23222' stroke-width='8'/><polygon points='100,300 200,120 300,300' fill='%23cde6d0' stroke='%23222' stroke-width='6'/></g><text x='600' y='520' text-anchor='middle' font-family='Comic Sans MS' font-size='34' fill='%23222'>Ng·ªçn n√∫i chung ‚Äî ∆∞·ªõc m∆° g√°c l·∫°i</text></svg>`;
      const svg21 = `data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1200' height='800' viewBox='0 0 1200 800'><rect width='100%' height='100%' fill='%23e3f2fd'/><g transform='translate(400,200)'><rect x='0' y='0' width='400' height='240' rx='24' fill='%23006d77' stroke='%23222' stroke-width='8'/><rect x='30' y='30' width='340' height='40' rx='8' fill='%23fff'/><rect x='30' y='90' width='340' height='20' rx='6' fill='%23fff'/><rect x='30' y='120' width='340' height='20' rx='6' fill='%23fff'/><rect x='30' y='150' width='220' height='20' rx='6' fill='%23fff'/></g><text x='600' y='520' text-anchor='middle' font-family='Comic Sans MS' font-size='34' fill='%23222'>M√≥n qu√† code ‚Äî c√¢u chuy·ªán c·ªßa h·ªç</text></svg>`;
      const svg22 = `data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1200' height='800' viewBox='0 0 1200 800'><rect width='100%' height='100%' fill='%23fff6e5'/><g transform='translate(520,220)'><ellipse cx='80' cy='80' rx='60' ry='80' fill='%23ffe8cf' stroke='%23222' stroke-width='6'/><path d='M40,80 q60 100 120 0' fill='none' stroke='%23996b4e' stroke-width='10'/><ellipse cx='60' cy='120' rx='8' ry='16' fill='%2399d' opacity='0.5'/><ellipse cx='100' cy='120' rx='8' ry='16' fill='%2399d' opacity='0.5'/></g><text x='600' y='520' text-anchor='middle' font-family='Comic Sans MS' font-size='34' fill='%23222'>Gi·ªçt n∆∞·ªõc m·∫Øt h·∫°nh ph√∫c</text></svg>`;
      const svg23 = `data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1200' height='800' viewBox='0 0 1200 800'><rect width='100%' height='100%' fill='%23e0e0e0'/><text x='600' y='400' text-anchor='middle' font-family='Comic Sans MS' font-size='60' fill='%23222'>To be continued...</text></svg>`;

      const scenes = [
        // Gi·ªõi thi·ªáu nh√¢n v·∫≠t
        {
          text: "<b>Nam</b>: M·ªôt ch√†ng trai l·∫≠p tr√¨nh vi√™n, y√™u th√≠ch s·ª± t·ª± do, hi·ªÅn l√†nh, c√≥ ch√∫t nh√∫t nh√°t.",
          img: svg1,
        },
        {
          text: '<b>Hi·ªÅn (Oong)</b>: "üçÉT·ªõ L√† Oongüêù". Nh·ªè nh·∫Øn, ƒë√°ng y√™u, lu√¥n cho m·ªçi ng∆∞·ªùi th·∫•y s·ª± m·∫°nh m·∫Ω c·ªßa b·∫£n th√¢n nh∆∞ng th·∫≠t ra l·∫°i y·∫øu ƒëu·ªëi c·∫ßn ƒë∆∞·ª£c b·∫£o v·ªá heheh',
          img: svg2,
        },
        // M·ªü ƒë·∫ßu ch∆∞∆°ng 1
        { text: 'Ch∆∞∆°ng 1: <b>Ti·∫øng "Ting" C·ªßa Ng√†y 6 Th√°ng 8</b>', img: svg3 },
        {
          text: "ƒê√™m mu·ªôn, Nam l∆∞·ªõt TikTok ƒë·ªÉ th∆∞ gi√£n sau nh·ªØng d√≤ng code kh√¥ khan.",
          img: svg1,
        },
        {
          text: "Gi·ªØa h√†ng trƒÉm video, kh√¥ng nh·∫°c hot trend, nh·∫£y nh√≥t, m·ªôt t√†i kho·∫£n t√™n <b>üçÉT·ªõ L√† Oongüêù</b> hi·ªán l√™n. Ch·ªâ l√† nh·ªØng clip hoa d·∫°i, m√¢y tr√¥i, ch√∫ ch√≥ nh·ªè... √Çm thanh m·ªôc m·∫°c c·ªßa t·ª± nhi√™n.",
          img: svg2,
        },
        {
          text: "C√≥ m·ªôt s·ª± b√¨nh y√™n k·ª≥ l·∫°. Nam t√≤ m√≤ nh·∫•n v√†o xem, c·∫£m nh·∫≠n ƒë∆∞·ª£c m·ªôt t√¢m h·ªìn y√™u thi√™n nhi√™n.",
          img: svg3,
        },
        {
          text: 'Anh b·∫Øt ƒë·∫ßu theo d√µi c√¥. ƒê√¥i l·∫ßn nh·∫Øn xin ·∫£nh: "Ch√†o b·∫°n, ·∫£nh n√†y ƒë·∫πp qu√°, b·∫°n cho m√¨nh xin ·∫£nh g·ªëc ƒë∆∞·ª£c kh√¥ng?"',
        },
        {
          text: 'Oong vui v·∫ª ƒë·ªìng √Ω. Ch·ªâ l√† nh·ªØng t∆∞∆°ng t√°c ng·∫Øn ng·ªßi: "C·∫£m ∆°n b·∫°n nh√©." ‚Äì "Kh√¥ng c√≥ g√¨ ^^". R·ªìi th√¥i.',
        },
        {
          text: "Nhi·ªÅu th√°ng tr√¥i qua. Vi·ªác gh√© thƒÉm trang c√° nh√¢n c·ªßa Oong tr·ªü th√†nh th√≥i quen. Nam v·∫´n l·∫∑ng l·∫Ω xem, kh√¥ng d√°m b·∫Øt chuy·ªán.",
        },
        { text: "Cho ƒë·∫øn m·ªôt ng√†y ‚Äì <b>ng√†y 6 th√°ng 8</b>.", img: svg3 },
        {
          text: "Hi·ªÅn ƒëƒÉng m·ªôt story m·ªõi. Nam nh√¨n v√†o m√†n h√¨nh, tr√°i tim b·ªóng ƒë·∫≠p nhanh h∆°n. Anh quy·∫øt ƒë·ªãnh ph·∫£i l√†m 1 ƒëi·ªÅu g√¨ ƒë√≥ kh√°c.",
          img: svg6,
        },
        {
          text: 'Nam h√≠t m·ªôt h∆°i th·∫≠t s√¢u, nh·∫•n v√†o √¥ "Tr·∫£ l·ªùi tin"... v√† g√µ: <b>"Ch√†o c·∫≠u."</b>',
          img: svg5,
        },
        {
          text: 'Anh g·ª≠i ƒëi, chu·∫©n b·ªã s·∫µn t√¢m l√Ω s·∫Ω b·ªã "seen" m√† kh√¥ng ƒë∆∞·ª£c tr·∫£ l·ªùi.',
        },
        {
          text: "Nh∆∞ng r·ªìi... <b>Ting!</b> √Çm thanh th√¥ng b√°o vang l√™n trong ƒë√™m tƒ©nh m·ªãch.",
          img: svg6,
        },
        { text: 'üçÉT·ªõ L√† Oongüêù: "Ch√†o b·∫°n ^^"', img: svg7 },
        {
          text: 'T·ª´ tin nh·∫Øn "Ch√†o c·∫≠u" ng√†y 6/8, h·ªç b·∫Øt ƒë·∫ßu tr√≤ chuy·ªán th·∫≠t s·ª±. Kh√¥ng ch·ªâ "xin ·∫£nh" n·ªØa.',
          img: svg8,
        },
        {
          text: "H·ªç k·ªÉ nhau nghe v·ªÅ m·ªôt ng√†y c·ªßa m√¨nh. Kinh ng·∫°c nh·∫≠n ra qu√° nhi·ªÅu ƒëi·ªÉm chung: y√™u thi√™n nhi√™n, ƒë·ªông v·∫≠t, chƒÉm ch·ªâ, th√≠ch trekking, th√≠ch t·ª± do.",
          img: svg7,
        },
        {
          text: "H·ªç ·ªü hai th√†nh ph·ªë kh√°c nhau. Kh√¥ng qu√° xa, nh∆∞ng ƒë·ªß ƒë·ªÉ m·ªçi quan t√¢m ch·ªâ g√≥i g·ªçn qua tin nh·∫Øn.",
          img: svg8,
        },
        {
          text: "D√π v·∫≠y, Nam bi·∫øt, c√¥ g√°i ·∫•y ƒë√£ √¢m th·∫ßm len l·ªèi v√†o tr√°i tim v·ªën dƒ© kh√¥ khan c·ªßa m√¨nh.",
          img: svg9,
        },
        // Chapter 2
        { text: "Ch∆∞∆°ng 2: <b>B·ª©c T∆∞·ªùng V√¥ H√¨nh</b>", img: svg10 },
        {
          text: "Nam d·∫ßn nh·∫≠n ra c√¥ g√°i nh·ªè nh·∫Øn ƒë√°ng y√™u c·ªßa m√¨nh kh√¥ng gi·ªëng nh∆∞ anh t·ª´ng t∆∞·ªüng t∆∞·ª£ng.",
          img: svg11,
        },
        {
          text: "Th·∫ø gi·ªõi c·ªßa Hi·ªÅn l√† hi·ªán th·ª±c kh·∫Øc nghi·ªát h∆°n anh nghƒ©. C√¥ng vi·ªác c·ªßa c√¥ v√¥ c√πng v·∫•t v·∫£ ph·∫£i l√†m vi·ªác t·∫°i c√¥ng tr∆∞·ªùng.",
          img: svg11,
        },
        {
          text: "Khi nh·ªØng c√¥ g√°i kh√°c tan l√†m v·ªõi v√°y √°o th∆°m tho, th√¨ Hi·ªÅn tr·ªü v·ªÅ nh√† v·ªõi qu·∫ßn √°o b·∫£o h·ªô l·∫•m lem v√† c∆° th·ªÉ m·ªát r√£ r·ªùi.",
          img: svg11,
        },
        {
          text: "S√°ng s·ªõm ƒëi l√†m, t·ªëi khuya m·ªõi v·ªÅ. T·ªëi ng√†y ch·ªâ c√≥ l√†m, l√†m v√† l√†m.",
          img: svg12,
        },
        {
          text: "Nh∆∞ng d√π m·ªát m·ªèi ƒë·∫øn ƒë√¢u, c√¥ v·∫´n d√†nh th·ªùi gian tr·∫£ l·ªùi tin nh·∫Øn c·ªßa Nam. √Ånh s√°ng t·ª´ m√†n h√¨nh ƒëi·ªán tho·∫°i trong cƒÉn ph√≤ng tr·ªç nh·ªè l√† ni·ªÅm an ·ªßi ph·∫ßn n√†o c·ªßa c√¥.",
          img: svg13,
        },
        {
          text: "Nam kh√¥ng bi·∫øt r·∫±ng, c√¥ g√°i lu√¥n tr·∫£ l·ªùi tin nh·∫Øn m·ªôt c√°ch vui v·∫ª ·∫•y th∆∞·ªùng xuy√™n b·ªè b·ªØa, t·∫Øm g·ªôi l√∫c n·ª≠a ƒë√™m.",
          img: svg14,
        },
        {
          text: "V√† ƒëi·ªÅu anh c√†ng kh√¥ng bi·∫øt, c√¥ g√°i m·∫°nh m·∫Ω ·∫•y r·∫•t hay kh√≥c m·ªôt m√¨nh.",
          img: svg15,
        },
        {
          text: "Nam c·∫£m nh·∫≠n ƒë∆∞·ª£c ƒëi·ªÅu ƒë√≥. Anh bi·∫øt c√¥ c·∫ßn ƒë∆∞·ª£c che ch·ªü, c·∫ßn ƒë∆∞·ª£c n√¢ng niu. Nh∆∞ng Hi·ªÅn lu√¥n t·ª± bao b·ªçc m√¨nh b·∫±ng m·ªôt b·ª©c t∆∞·ªùng l·ªõn, s·ª£ h√£i th·∫ø gi·ªõi, s·ª£ h√£i m·ªçi th·ª© xung quanh, s·ª£ m√¨nh kh√¥ng x·ª©ng ƒë√°ng v·ªõi s·ª± quan t√¢m c·ªßa anh.",
          img: svg16,
        },
        // ...existing code...
        // Chapter 3
        { text: "<b>Ch∆∞∆°ng 3: Nh·ªØng M√≥n Qu√† Kh√¥ng G·ª≠i</b>", img: svg19 },
        {
          text: "S·ª± quan t√¢m c·ªßa Nam kh√¥ng ch·ªâ c√≤n l√† l·ªùi n√≥i. N√≥ bi·∫øn th√†nh m·ªôt n·ªói s·ª£ th·ª±c s·ª±.",
          img: svg19,
        },
        {
          text: '"C·∫≠u ph·∫£i ƒÉn u·ªëng ƒë√∫ng gi·ªù. ƒê·ª´ng l√†m vi·ªác qu√° s·ª©c n·ªØa, h√¢mm ·∫°."',
          img: svg19,
        },
        {
          text: "Nam l√™n m·∫°ng, ƒë·ªçc c√°c b√†i vi·∫øt v·ªÅ s·ª©c kh·ªèe, s·ªØa dinh d∆∞·ª°ng, khƒÉn qu√†ng c·ªï th·∫≠t ·∫•m. Anh mu·ªën t·∫∑ng cho c√¥, d√π ch·ªâ l√† m·ªôt ph·∫ßn nh·ªè.",
          img: svg19,
        },
        {
          text: "Anh c·∫©n th·∫≠n g√≥i gh√©m m·ªçi th·ª© v√†o m·ªôt chi·∫øc h·ªôp. Nh∆∞ng r·ªìi, anh nh·∫≠n ra m√¨nh kh√¥ng c√≥ ƒë·ªãa ch·ªâ c·ªßa c√¥. V√† anh kh√¥ng d√°m h·ªèi.",
          img: svg19,
        },
        {
          text: "Chi·∫øc h·ªôp ·∫•m √°p ·∫•y, c·ª© n·∫±m m√£i tr√™n b√†n l√†m vi·ªác c·ªßa anh, tr·ªü th√†nh m·ªôt m√≥n qu√† kh√¥ng th·ªÉ g·ª≠i.",
          img: svg19,
        },
        // Chapter 4
        { text: "<b>Ch∆∞∆°ng 4: M√≥n Qu√† 20/10</b>", img: svg20 },
        {
          text: '"T·ªõ s·∫Øp c√≥ m·ªôt k·ª≥ ngh·ªâ l·ªÖ d√†i ng√†y," Nam nh·∫Øn tin, l√≤ng ƒë·∫ßy ph·∫•n kh√≠ch. "T·ªõ ƒë·ªãnh ƒëi leo T√† Ch√¨ Nh√π, ch·ªó l·∫ßn tr∆∞·ªõc ch√∫ng ta c√πng xem ·∫£nh ·∫•y."',
          img: svg20,
        },
        {
          text: 'Nam kh√¥ng d√°m h·ªèi th·∫≥ng "C·∫≠u c√≥ mu·ªën ƒëi c√πng t·ªõ kh√¥ng?". Anh ch·ªçn m·ªôt c√°ch √Ω t·ª© h∆°n: "Ti·∫øc l√† ng·ªçn n√∫i n√†y ·ªü xa c·∫≠u qu√°. Ph·∫£i chi ch√∫ng ta c√≥ th·ªÉ c√πng ƒëi nh·ªâ?"',
          img: svg20,
        },
        {
          text: 'Hi·ªÅn hi·ªÉu √Ω anh. C√¥ mu·ªën ƒëi, nh∆∞ng th·ª±c t·∫°i l·∫°i k√©o c√¥ l·∫°i. "∆Ø·ªõc g√¨ t·ªõ c≈©ng ƒë∆∞·ª£c ƒëi. Nh∆∞ng... c√¥ng vi·ªác c·ªßa t·ªõ... ch·∫Øc l√† kh√¥ng xin ngh·ªâ ƒë∆∞·ª£c r·ªìi."',
          img: svg20,
        },
        {
          text: "L·ªùi h·ª©a v·ªÅ m·ªôt ng·ªçn n√∫i chung ƒë∆∞·ª£c g√°c l·∫°i. Nam nh√¨n chi·∫øc h·ªôp qu√† kh√¥ng g·ª≠i ƒë∆∞·ª£c tr√™n b√†n, r·ªìi nh√¨n v√†o m√†n h√¨nh code. S·∫Øp ƒë·∫øn ng√†y 20/10/2025.",
          img: svg21,
        },
        {
          text: "Anh nh·∫≠n ra m√¨nh c√≥ th·ªÉ t·∫°o ra m·ªôt m√≥n qu√† kh√°c. M·ªôt m√≥n qu√† c√≥ th·ªÉ v∆∞·ª£t qua m·ªçi kho·∫£ng c√°ch, c√≥ th·ªÉ g·ª≠i ƒëi ngay l·∫≠p t·ª©c.",
          img: svg21,
        },
        {
          text: 'Th·∫ø l√†, ch√†ng trai l·∫≠p tr√¨nh ·∫•y b·∫Øt ƒë·∫ßu "code" mi·ªát m√†i. Anh "code" ra m·ªôt c√¢u chuy·ªán ‚Äî ch√≠nh c√¢u chuy·ªán c·ªßa m√¨nh.',
          img: svg21,
        },
        {
          text: 'ƒê√∫ng ng√†y 20/10, anh g·ª≠i cho c√¥ m·ªôt ƒë∆∞·ªùng link: "T·∫∑ng Oong. M√≥n qu√† ƒë·∫ßu ti√™n c·ªßa t·ªõ. Ch√∫c c·∫≠u m·ªôt ng√†y th·∫≠t vui v·∫ª, b·ªõt m·ªát m·ªèi."',
          img: svg21,
        },
        {
          text: "Hi·ªÅn m·ªü ra. C√¥ ƒë·ªçc, v√† ....... (hehe t·ªõ ƒë·ª£i r√¨ viu c·ªßa c·∫≠u)",
          img: svg22,
        },
        // Chapter 5
        { text: "<b>Ch∆∞∆°ng 5: Cu·ªôc G·∫∑p G·ª° ƒê·ªãnh M·ªánh</b>", img: svg23 },
        {
          img: svg23,
        },
        { text: "<b>To be continued...</b>", img: svg23 },
      ];

      let index = 0;
      let isTyping = false;
      let typingTimer = null;

      const storyDiv = document.getElementById("story");
      const imgEl = document.getElementById("sceneImg");
      const nextBtn = document.getElementById("nextBtn");
      const prevBtn = document.getElementById("prevBtn");
      const progress = document.getElementById("progress");
      const panel = document.getElementById("panel");

      function typewriterHTML(target, html, speed = 22) {
        if (typingTimer) clearTimeout(typingTimer);
        target.innerHTML = "";
        isTyping = true;
        let i = 0;
        const step = () => {
          if (!isTyping) return; // typing cancelled
          if (i >= html.length) {
            isTyping = false;
            return;
          }
          if (html[i] === "<") {
            const close = html.indexOf(">", i);
            if (close === -1) {
              target.innerText += html.slice(i);
              isTyping = false;
              return;
            }
            target.innerHTML += html.slice(i, close + 1);
            i = close + 1;
            step();
            return;
          }
          target.innerHTML += html[i];
          i++;
          typingTimer = setTimeout(step, speed);
        };
        step();
      }

      function setScene(i) {
        const scene = scenes[i];
        if (!scene) return;
        imgEl.src = scene.img;
        imgEl.alt = `scene-${i + 1}`;
        storyDiv.style.opacity = 0;
        setTimeout(() => {
          storyDiv.style.opacity = 1;
          typewriterHTML(storyDiv, scene.text);
        }, 150);
        renderProgress(i);
        updateControls();
      }

      function renderProgress(activeIndex) {
        progress.innerHTML = "";
        for (let i = 0; i < scenes.length; i++) {
          const d = document.createElement("div");
          d.className = "dot" + (i === activeIndex ? " active" : "");
          d.title = `C·∫£nh ${i + 1}`;
          d.setAttribute("role", "button");
          d.tabIndex = 0;
          d.addEventListener("click", () => {
            index = i;
            setScene(index);
          });
          d.addEventListener("keydown", (e) => {
            if (e.key === "Enter" || e.key === " ") {
              e.preventDefault();
              index = i;
              setScene(index);
            }
          });
          progress.appendChild(d);
        }
      }

      function updateControls() {
        prevBtn.disabled = index === 0;
        nextBtn.textContent = index === scenes.length - 1 ? "K·∫øt ‚ûú" : "Ti·∫øp ‚ûú";
      }

      function completeOrNext() {
        if (isTyping) {
          // skip typing
          isTyping = false;
          if (typingTimer) clearTimeout(typingTimer);
          storyDiv.innerHTML = scenes[index].text;
        } else {
          nextPart();
        }
      }

      function nextPart() {
        if (index < scenes.length - 1) {
          index++;
          setScene(index);
        } else {
          // restart
          index = 0;
          setScene(index);
        }
      }

      function prevPart() {
        if (index > 0) {
          index--;
          setScene(index);
        }
      }

      // Keyboard navigation
      window.addEventListener("keydown", (e) => {
        const key = e.key;
        if ([" ", "Spacebar", "Enter", "ArrowRight"].includes(key)) {
          e.preventDefault();
          completeOrNext();
        } else if (key === "ArrowLeft") {
          e.preventDefault();
          if (isTyping) {
            isTyping = false;
            if (typingTimer) clearTimeout(typingTimer);
            storyDiv.innerHTML = scenes[index].text;
          } else {
            prevPart();
          }
        }
      });

      // Click to skip typing
      panel.addEventListener("click", () => completeOrNext());

      // Init: preload images, then show first scene
      scenes.forEach((s) => {
        const im = new Image();
        im.src = s.img;
      });
      setScene(index);
    </script>
  </body>
</html>
<!-- ƒë√¢y l√† n·ªôi dung c·ªßa ch∆∞∆°ng 1 -->
